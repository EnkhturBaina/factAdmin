[{"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\index.js":"1","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\App.js":"2","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\reportWebVitals.js":"3","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\axios-orders.js":"4","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\Home.js":"5","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\AddCategory.js":"6","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\firebase\\Firebase.js":"7","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\Facts.js":"8","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\Search.js":"9"},{"size":461,"mtime":1609616173533,"results":"10","hashOfConfig":"11"},{"size":1830,"mtime":1610557421540,"results":"12","hashOfConfig":"11"},{"size":375,"mtime":1609579595605,"results":"13","hashOfConfig":"11"},{"size":164,"mtime":1609579595601,"results":"14","hashOfConfig":"11"},{"size":101,"mtime":1609579595605,"results":"15","hashOfConfig":"11"},{"size":9183,"mtime":1610558785258,"results":"16","hashOfConfig":"11"},{"size":790,"mtime":1609621142401,"results":"17","hashOfConfig":"11"},{"size":7463,"mtime":1610558966405,"results":"18","hashOfConfig":"11"},{"size":2052,"mtime":1610559288041,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"fz7w62",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\index.js",[],["42","43"],"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\App.js",["44"],"import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport AddCategory from \"./pages/AddCategory\";\r\nimport Facts from \"./pages/Facts\";\r\nimport SearchPage from \"./pages/Search\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"./axios-orders\";\r\nclass App extends Component {\r\n  state = {\r\n    storedFacts: [],\r\n    storedCats: [],\r\n    saaaa: true,\r\n  };\r\n  componentDidMount() {\r\n    // this.getCatData();\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.value !== this.state.value) {\r\n      // this.getCatData();\r\n    }\r\n  }\r\n  aaa = () => {\r\n    this.setState({ saaaa: false });\r\n  };\r\n  render() {\r\n    console.log(\"App state\", this.state);\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"App\" style={{ display: \"flex\" }}>\r\n          <ul className=\"sidebar-ul\">\r\n            <li>\r\n              <Link to=\"/search\">\r\n                <i className=\"bi bi-search\"></i>\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/\">Нүүр</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/addcategory\" cat={this.state.storedCats}>\r\n                Ангилал\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/facts\">Факт</Link>\r\n            </li>\r\n          </ul>\r\n          <div style={{ flex: 1, padding: \"50px\" }}>\r\n            <Route path=\"/\" exact component={Home}></Route>\r\n            <Route path=\"/addcategory\" component={AddCategory}></Route>\r\n            <Route path=\"/search\" component={SearchPage}></Route>\r\n            <Route path=\"/facts\" component={Facts}></Route>\r\n          </div>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\reportWebVitals.js",[],"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\axios-orders.js",[],"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\Home.js",[],"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\AddCategory.js",["45","46"],"import React, { Component } from \"react\";\r\nimport \"../css/addCategory.css\";\r\nimport { storage } from \"../firebase/Firebase\";\r\nimport { database } from \"../firebase/Firebase\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport axios from \"../axios-orders\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nclass AddCategory extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: \"\",\r\n      catCode: \"\",\r\n      image: \"\",\r\n      imageURL: \"\",\r\n      storedData: [],\r\n      addModelShow: false,\r\n      editModelShow: 0,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.getCatData();\r\n  }\r\n\r\n  getCatData = () => {\r\n    axios.get(\"/categories.json\").then((response) => {\r\n      const arr = Object.entries(response.data);\r\n      this.setState({ storedData: arr, isLoading: true });\r\n      console.log(this.state.storedData);\r\n    });\r\n    //firebase ref\r\n    // database.ref(\"/categories\").on(\"value\", (querySnapShot) => {\r\n    //   let data = querySnapShot.val() ? querySnapShot.val() : {};\r\n    //   let todoItems = { ...data };\r\n    //   console.log(\"todoItems\", todoItems);\r\n    //   this.setState({\r\n    //     storedData: Object.keys(todoItems),\r\n    //     isLoading: true,\r\n    //   });\r\n    // });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.data !== this.state.data) {\r\n      this.getCatData();\r\n    }\r\n  }\r\n\r\n  uploadImage = (e) => {\r\n    if (e.target.files[0]) {\r\n      this.setState({ image: e.target.files[0] });\r\n    }\r\n  };\r\n\r\n  addCat = () => {\r\n    //category нэмэх\r\n    const uploadTask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\r\n\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {},\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"images\")\r\n          .child(this.state.image.name)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            setTimeout(() => {\r\n              this.setState({ imageURL: url }, function () {\r\n                const categoryData = {\r\n                  title: this.state.title,\r\n                  imageURL: this.state.imageURL,\r\n                  catCode: this.state.catCode,\r\n                };\r\n\r\n                axios.post(\"/categories.json\", categoryData).then((response) => {\r\n                  console.log(\"Res\", response);\r\n                });\r\n              });\r\n            }, 10);\r\n          });\r\n      }\r\n    );\r\n    this.setState({ modelShow: false });\r\n    this.getCatData();\r\n  };\r\n\r\n  rmCat = (ss) => {\r\n    database.ref(\"categories/\").child(ss).remove();\r\n\r\n    this.state.storedData.map((list) => {\r\n      if (list[0] == ss) {\r\n        var array = [...this.state.storedData];\r\n        var index = array.indexOf(list);\r\n\r\n        if (index !== -1) {\r\n          array.splice(index, 1);\r\n          this.setState({ storedData: array });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  modalClose = (modal) => {\r\n    this.setState({ [modal]: 0 });\r\n  };\r\n\r\n  modalShow = (modal, e) => {\r\n    this.setState({ [modal]: e });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"this.state.storedData\", this.state.storedData);\r\n    // console.log(\"props\", this.props);\r\n    return (\r\n      <div>\r\n        {this.state.isLoading && (\r\n          <Container>\r\n            <Row>\r\n              <Col style={{ textAlign: \"left\", margin: \"5px\", paddingLeft: \"0px\" }}>\r\n                <Button variant=\"primary\" onClick={() => this.modalShow(\"addModelShow\", 1)}>\r\n                  Нэмэх\r\n                </Button>\r\n                <Modal show={this.state.addModelShow === 1} onHide={() => this.modalClose(\"addModelShow\")}>\r\n                  <Modal.Header closeButton>\r\n                    <Modal.Title>Ангилал нэмэх</Modal.Title>\r\n                  </Modal.Header>\r\n                  <Modal.Body>\r\n                    <Form>\r\n                      <Form.Group controlId=\"formGroupCode\">\r\n                        <Form.Label>Code</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"\" value={this.state.catCode} onChange={(e) => this.setState({ catCode: e.target.value })} />\r\n                      </Form.Group>\r\n                      <Form.Group controlId=\"formGroupTitle\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"\" value={this.state.title} onChange={(e) => this.setState({ title: e.target.value })} />\r\n                      </Form.Group>\r\n                      <Form.Group controlId=\"formGroupImg\">\r\n                        <Form.File id=\"exampleFormControlFile1\" label=\"Зураг\" onChange={this.uploadImage} />\r\n                      </Form.Group>\r\n                    </Form>\r\n                  </Modal.Body>\r\n                  <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => this.modalClose(\"addModelShow\")}>\r\n                      Хаах\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      onClick={() => {\r\n                        this.modalClose(\"addModelShow\");\r\n                        this.addCat();\r\n                      }}\r\n                    >\r\n                      Хадгалах\r\n                    </Button>\r\n                  </Modal.Footer>\r\n                </Modal>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Table bordered hover>\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>Title</th>\r\n                    <th>Img</th>\r\n                    <th>*</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {this.state.storedData.map((aa, index) => {\r\n                    return (\r\n                      <tr className=\"form__table-row\" key={index}>\r\n                        <td>{index + 1}</td>\r\n                        <td>{aa[1].title}</td>\r\n                        <td>\r\n                          <Image className=\"category-img\" src={aa[1].imageURL} />\r\n                        </td>\r\n                        <td>\r\n                          <Button variant=\"warning\" onClick={() => this.modalShow(\"editModelShow\", index + 1)}>\r\n                            Засах\r\n                          </Button>\r\n                          <Modal show={this.state.editModelShow === index + 1} onHide={() => this.modalClose(\"editModelShow\")}>\r\n                            <Modal.Header closeButton>\r\n                              <Modal.Title>Ангилал засах</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                              <Form>\r\n                                <Form.Group controlId=\"formGroupCode\">\r\n                                  <Form.Label>Code</Form.Label>\r\n                                  <Form.Control type=\"text\" placeholder=\"\" value={aa[1].catCode} onChange={(e) => this.setState({ catCode: e.target.value })} />\r\n                                </Form.Group>\r\n                                <Form.Group controlId=\"formGroupTitle\">\r\n                                  <Form.Label>Title</Form.Label>\r\n                                  <Form.Control type=\"text\" placeholder=\"Title\" value={aa[1].title} onChange={(e) => this.setState({ title: e.target.value })} />\r\n                                </Form.Group>\r\n                                <Form.Group controlId=\"formGroupImg\">\r\n                                  <Form.File id=\"exampleFormControlFile1\" label=\"Зураг\" onChange={this.handleChange} />\r\n                                </Form.Group>\r\n                              </Form>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                              <Button variant=\"secondary\" onClick={() => this.modalClose(\"editModelShow\")}>\r\n                                Хаах\r\n                              </Button>\r\n                              <Button variant=\"primary\" onClick={this.addCat}>\r\n                                Хадгалах\r\n                              </Button>\r\n                            </Modal.Footer>\r\n                          </Modal>{\" \"}\r\n                          <Button variant=\"danger\" onClick={() => this.rmCat(aa[0])}>\r\n                            Устгах\r\n                          </Button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </Table>\r\n            </Row>\r\n          </Container>\r\n        )}\r\n        {!this.state.isLoading && (\r\n          <Spinner animation=\"border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddCategory;\r\n","C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\firebase\\Firebase.js",[],["47","48"],"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\Facts.js",[],"C:\\Users\\eegii\\Desktop\\React\\factAdmin\\src\\pages\\Search.js",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":9,"column":8,"nodeType":"55","messageId":"56","endLine":9,"endColumn":13},{"ruleId":"57","severity":1,"message":"58","line":104,"column":38,"nodeType":"59","messageId":"60","endLine":104,"endColumn":40},{"ruleId":"61","severity":1,"message":"62","line":105,"column":19,"nodeType":"63","messageId":"64","endLine":105,"endColumn":21},{"ruleId":"49","replacedBy":"65"},{"ruleId":"51","replacedBy":"66"},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["67"],["68"],"no-global-assign","no-unsafe-negation"]